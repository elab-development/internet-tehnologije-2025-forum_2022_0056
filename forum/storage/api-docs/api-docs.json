{
    "openapi": "3.0.0",
    "info": {
        "title": "Planinarski Forum API",
        "description": "API dokumentacija za Planinarski Forum aplikaciju",
        "contact": {
            "email": "admin@planinarskiforum.com"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:8000",
            "description": "Lokalni server"
        }
    ],
    "paths": {
        "/api/admin/users": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Lista svih korisnika",
                "description": "Vraća paginiranu listu korisnika sa filterima (samo admin/moderator)",
                "operationId": "12d8068fb9094b67b1d7144ae2ee938d",
                "parameters": [
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Broj korisnika po stranici (5-100)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 20
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Pretraga po imenu ili emailu",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "role",
                        "in": "query",
                        "description": "Filter po ulozi (user, moderator, admin)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "user",
                                "moderator",
                                "admin"
                            ]
                        }
                    },
                    {
                        "name": "sort_by",
                        "in": "query",
                        "description": "Polje sortiranja (id, name, email, role, created_at, posts_count)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "created_at"
                        }
                    },
                    {
                        "name": "sort_dir",
                        "in": "query",
                        "description": "Smer sortiranja (asc/desc)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "desc"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "users": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        },
                                        "meta": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer"
                                                },
                                                "per_page": {
                                                    "type": "integer"
                                                },
                                                "total": {
                                                    "type": "integer"
                                                },
                                                "last_page": {
                                                    "type": "integer"
                                                },
                                                "has_more_pages": {
                                                    "type": "boolean"
                                                },
                                                "sort_by": {
                                                    "type": "string"
                                                },
                                                "sort_dir": {
                                                    "type": "string"
                                                },
                                                "search": {
                                                    "type": "string",
                                                    "nullable": true
                                                },
                                                "role_filter": {
                                                    "type": "string",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Nije autorizovan",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Unauthorized"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/admin/users/{user}/toggle-publish": {
            "patch": {
                "tags": [
                    "Admin"
                ],
                "summary": "Uključi/isključi pravo publikovanja",
                "description": "Menja can_publish status korisnika (samo admin/moderator)",
                "operationId": "3e623ffc2ad5972c8cfd3c074ee9e6e6",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "ID korisnika",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "User publishing status updated successfully"
                                        },
                                        "user": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Ne možete sebi menjati status",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Cannot change your own publishing status"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Nije autentifikovan"
                    },
                    "403": {
                        "description": "Nema dozvolu",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Unauthorized"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/admin/users/{user}/role": {
            "put": {
                "tags": [
                    "Admin"
                ],
                "summary": "Promeni ulogu korisnika",
                "description": "Menja ulogu korisnika (samo admin)",
                "operationId": "5e5ff1607d751f8eac4780c1a9b05a36",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "ID korisnika",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "role"
                                ],
                                "properties": {
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "user",
                                            "moderator",
                                            "admin"
                                        ],
                                        "example": "moderator"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "User role changed from user to moderator"
                                        },
                                        "user": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Ne možete sebi menjati ulogu",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Cannot change your own role"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Nije autentifikovan"
                    },
                    "403": {
                        "description": "Samo admini mogu menjati uloge",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Only admins can change user roles"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Greška pri validaciji"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/admin/stats": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Statistika foruma",
                "description": "Vraća osnovne statistike foruma (samo admin/moderator)",
                "operationId": "3781a63877fb9197d56d7ecff645c3a5",
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "stats": {
                                            "properties": {
                                                "users": {
                                                    "type": "integer",
                                                    "example": 150
                                                },
                                                "posts": {
                                                    "type": "integer",
                                                    "example": 520
                                                },
                                                "themes": {
                                                    "type": "integer",
                                                    "example": 12
                                                },
                                                "likes": {
                                                    "type": "integer",
                                                    "example": 1240
                                                },
                                                "recent_users": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "recent_posts": {
                                                    "type": "integer",
                                                    "example": 45
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "format": "datetime"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Nije autorizovan"
                    },
                    "500": {
                        "description": "Interna greška servera"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Registracija novog korisnika",
                "description": "Kreira novog korisnika i vraća token",
                "operationId": "8a56853624e025573120a09a4c75d468",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "name": {
                                        "description": "Ime i prezime",
                                        "type": "string",
                                        "example": "Marko Marković"
                                    },
                                    "email": {
                                        "description": "Email adresa",
                                        "type": "string",
                                        "format": "email",
                                        "example": "marko@example.com"
                                    },
                                    "password": {
                                        "description": "Lozinka (min 8 karaktera)",
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Uspešna registracija",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Marko Marković"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "marko@example.com"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "datetime"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "datetime"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "access_token": {
                                            "type": "string",
                                            "example": "1|laravel_sanctum_token_123456789"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Greška pri validaciji",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "name": {
                                            "type": "array",
                                            "items": {
                                                "type": "string",
                                                "example": "The name field is required."
                                            }
                                        },
                                        "email": {
                                            "type": "array",
                                            "items": {
                                                "type": "string",
                                                "example": "The email has already been taken."
                                            }
                                        },
                                        "password": {
                                            "type": "array",
                                            "items": {
                                                "type": "string",
                                                "example": "The password must be at least 8 characters."
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Prijava korisnika",
                "description": "Prijavljuje postojećeg korisnika i vraća token",
                "operationId": "a3b306d14572d1f4bd6c064b3233e7b8",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "description": "Email adresa",
                                        "type": "string",
                                        "format": "email",
                                        "example": "marko@example.com"
                                    },
                                    "password": {
                                        "description": "Lozinka",
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Uspešna prijava",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Marko Marković logged in"
                                        },
                                        "access_token": {
                                            "type": "string",
                                            "example": "1|laravel_sanctum_token_123456789"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Neispravni kredencijali",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Wrong credentials"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Odjava korisnika",
                "description": "Odjavljuje autentifikovanog korisnika i briše token",
                "operationId": "fe8f3429cd6979b3b4517e186505f9f9",
                "responses": {
                    "200": {
                        "description": "Uspešna odjava",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "You have successfully logged out."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Nije autentifikovan",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/categories": {
            "get": {
                "tags": [
                    "Categories"
                ],
                "summary": "Lista svih kategorija",
                "description": "Vraća listu svih aktivnih kategorija sa brojem tema",
                "operationId": "3f5817a34833d0a1f4af4548dd3aeaba",
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "categories": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Greška na serveru",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Greška pri učitavanju kategorija"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Categories"
                ],
                "summary": "Kreiranje nove kategorije",
                "description": "Kreira novu kategoriju (samo admin)",
                "operationId": "71fcad552bb0eaba9fb191fd8d8dcab0",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "description": "Naziv kategorije",
                                        "type": "string",
                                        "example": "Planinarenje"
                                    },
                                    "description": {
                                        "description": "Opis kategorije",
                                        "type": "string",
                                        "example": "Sve o planinarenju"
                                    },
                                    "order": {
                                        "description": "Redosled prikaza",
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Kategorija kreirana",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Kategorija je uspešno kreirana"
                                        },
                                        "category": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Nije admin",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Samo administratori mogu kreirati kategorije"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Greška pri validaciji",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Validacija nije uspela"
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Nije autentifikovan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/categories/{category}": {
            "get": {
                "tags": [
                    "Categories"
                ],
                "summary": "Pojedinačna kategorija",
                "description": "Vraća detalje jedne kategorije",
                "operationId": "e92579e78391b6199e78c2a091dbea0a",
                "parameters": [
                    {
                        "name": "category",
                        "in": "path",
                        "description": "ID kategorije",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "category": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Kategorija nije pronađena"
                    },
                    "500": {
                        "description": "Greška na serveru"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Categories"
                ],
                "summary": "Brisanje kategorije",
                "description": "Briše kategoriju (samo admin, samo ako nema tema)",
                "operationId": "d9ecd5c4a74c4d75339251863eedc08c",
                "parameters": [
                    {
                        "name": "category",
                        "in": "path",
                        "description": "ID kategorije",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Kategorija obrisana",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Kategorija je uspešno obrisana"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Nije admin",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Samo administratori mogu brisati kategorije"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Kategorija ima teme",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Ne možete obrisati kategoriju koja ima teme"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Nije autentifikovan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/categories/{category}/themes": {
            "get": {
                "tags": [
                    "Categories"
                ],
                "summary": "Teme u kategoriji",
                "description": "Vraća listu tema za određenu kategoriju",
                "operationId": "d74b97058a51c0e7c445efb8b484b998",
                "parameters": [
                    {
                        "name": "category",
                        "in": "path",
                        "description": "ID kategorije",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "category": {
                                            "type": "object"
                                        },
                                        "themes": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Kategorija nije pronađena"
                    },
                    "500": {
                        "description": "Greška na serveru"
                    }
                }
            }
        },
        "/api/posts/{post}/like": {
            "post": {
                "tags": [
                    "Likes"
                ],
                "summary": "Lajkuj post",
                "description": "Lajkuje određeni post",
                "operationId": "0a240806a4f9df159ba630013f620c01",
                "parameters": [
                    {
                        "name": "post",
                        "in": "path",
                        "description": "ID posta",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno lajkovano",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Liked"
                                        },
                                        "liked": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "post_id": {
                                            "type": "integer"
                                        },
                                        "likes_count": {
                                            "type": "integer"
                                        },
                                        "replies_count": {
                                            "type": "integer"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Nije autentifikovan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Likes"
                ],
                "summary": "Ukloni lajk",
                "description": "Uklanja lajk sa posta",
                "operationId": "70f0665199399ff2856fe4e37234df3d",
                "parameters": [
                    {
                        "name": "post",
                        "in": "path",
                        "description": "ID posta",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno uklonjen lajk",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unliked"
                                        },
                                        "liked": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "post_id": {
                                            "type": "integer"
                                        },
                                        "likes_count": {
                                            "type": "integer"
                                        },
                                        "replies_count": {
                                            "type": "integer"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Nije autentifikovan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/posts/{post}/like/check": {
            "get": {
                "tags": [
                    "Likes"
                ],
                "summary": "Proveri lajk",
                "description": "Proverava da li je korisnik lajkovao post",
                "operationId": "be36a84c92f57a979f95b8de48d12720",
                "parameters": [
                    {
                        "name": "post",
                        "in": "path",
                        "description": "ID posta",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "post_id": {
                                            "type": "integer"
                                        },
                                        "is_liked": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "likes_count": {
                                            "type": "integer",
                                            "example": 5
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Nije autentifikovan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/posts": {
            "get": {
                "tags": [
                    "Posts"
                ],
                "summary": "Lista svih postova",
                "description": "Vraća paginiranu listu postova sa mogućnošću filtriranja i sortiranja",
                "operationId": "e9eaf7df702a94f4443677bd1a36cfe6",
                "parameters": [
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Broj postova po stranici (5-100)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 20
                        }
                    },
                    {
                        "name": "sort_by",
                        "in": "query",
                        "description": "Polje po kome se sortira (created_at, replies_count, likes_count, title)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "created_at"
                        }
                    },
                    {
                        "name": "sort_dir",
                        "in": "query",
                        "description": "Smer sortiranja (asc ili desc)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "desc"
                        }
                    },
                    {
                        "name": "theme",
                        "in": "query",
                        "description": "Filter po nazivu teme",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "theme_id",
                        "in": "query",
                        "description": "Filter po ID teme",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "author_id",
                        "in": "query",
                        "description": "Filter po ID autora",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "author",
                        "in": "query",
                        "description": "Pretraga po imenu autora",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "q",
                        "in": "query",
                        "description": "Pretraga po naslovu i sadržaju",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "from",
                        "in": "query",
                        "description": "Datum od (YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    },
                    {
                        "name": "to",
                        "in": "query",
                        "description": "Datum do (YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "posts": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        },
                                        "meta": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer"
                                                },
                                                "per_page": {
                                                    "type": "integer"
                                                },
                                                "total": {
                                                    "type": "integer"
                                                },
                                                "last_page": {
                                                    "type": "integer"
                                                },
                                                "sort_by": {
                                                    "type": "string"
                                                },
                                                "sort_dir": {
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/posts/{post}/replies": {
            "get": {
                "tags": [
                    "Posts"
                ],
                "summary": "Odgovori na post",
                "description": "Vraća listu odgovora za određeni post",
                "operationId": "83fc1cb64834b7333831ab299914d501",
                "parameters": [
                    {
                        "name": "post",
                        "in": "path",
                        "description": "ID posta",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Broj odgovora po stranici",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 20
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "post_id": {
                                            "type": "integer"
                                        },
                                        "replies": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        },
                                        "meta": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer"
                                                },
                                                "per_page": {
                                                    "type": "integer"
                                                },
                                                "total": {
                                                    "type": "integer"
                                                },
                                                "last_page": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Post nije pronađen"
                    }
                }
            }
        },
        "/api/posts/{post}/likes": {
            "get": {
                "tags": [
                    "Posts"
                ],
                "summary": "Lajkovi na postu",
                "description": "Vraća listu korisnika koji su lajkovali post",
                "operationId": "6d15384651d27be9a77958636de2aa51",
                "parameters": [
                    {
                        "name": "post",
                        "in": "path",
                        "description": "ID posta",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Broj lajkova po stranici",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 50
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "post_id": {
                                            "type": "integer"
                                        },
                                        "likes": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        },
                                        "meta": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer"
                                                },
                                                "per_page": {
                                                    "type": "integer"
                                                },
                                                "total": {
                                                    "type": "integer"
                                                },
                                                "last_page": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Post nije pronađen"
                    }
                }
            }
        },
        "/api/themes": {
            "get": {
                "tags": [
                    "Themes"
                ],
                "summary": "Lista svih tema",
                "description": "Vraća listu svih tema sa brojem postova",
                "operationId": "3af0ee5eb0876976d8f366507e93e82a",
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "themes": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Nema tema",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string"
                                },
                                "example": "No themes found."
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Themes"
                ],
                "summary": "Kreiranje nove teme",
                "description": "Kreira novu temu (samo admin)",
                "operationId": "88a51c58f980c0ba8846ebadd3a9f87a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "description": "Naziv teme",
                                        "type": "string",
                                        "example": "Zimsko planinarenje"
                                    },
                                    "description": {
                                        "description": "Opis teme",
                                        "type": "string",
                                        "example": "Sve o zimskom planinarenju"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Tema kreirana",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Theme created successfully"
                                        },
                                        "theme": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Nije admin",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Only admins can create themes"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Greška pri validaciji"
                    },
                    "401": {
                        "description": "Nije autentifikovan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/themes/{theme}": {
            "get": {
                "tags": [
                    "Themes"
                ],
                "summary": "Pojedinačna tema",
                "description": "Vraća detalje jedne teme sa brojem postova",
                "operationId": "b26fa44f6f494cf0cbcc65d38b232cbe",
                "parameters": [
                    {
                        "name": "theme",
                        "in": "path",
                        "description": "ID teme",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "theme": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Tema nije pronađena"
                    }
                }
            },
            "put": {
                "tags": [
                    "Themes"
                ],
                "summary": "Ažuriranje teme",
                "description": "Ažurira postojeću temu (samo admin)",
                "operationId": "2279de886d59625c857567cc236b8a50",
                "parameters": [
                    {
                        "name": "theme",
                        "in": "path",
                        "description": "ID teme",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "description": "Naziv teme",
                                        "type": "string",
                                        "example": "Zimsko planinarenje"
                                    },
                                    "description": {
                                        "description": "Opis teme",
                                        "type": "string",
                                        "example": "Sve o zimskom planinarenju"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Tema ažurirana",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Theme updated successfully"
                                        },
                                        "theme": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Nije admin",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Only admins can update themes"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Greška pri validaciji"
                    },
                    "401": {
                        "description": "Nije autentifikovan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Themes"
                ],
                "summary": "Brisanje teme",
                "description": "Briše temu (samo admin)",
                "operationId": "0ad1a88ab068d11a34b3572bdbb2cbfa",
                "parameters": [
                    {
                        "name": "theme",
                        "in": "path",
                        "description": "ID teme",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tema obrisana",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Theme deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Nije admin",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Only admins can delete themes"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Nije autentifikovan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/themes/{theme}/posts": {
            "get": {
                "tags": [
                    "Themes"
                ],
                "summary": "Postovi u temi",
                "description": "Vraća listu postova za određenu temu",
                "operationId": "dfca4c3274dfe8200e33cf71636e38ff",
                "parameters": [
                    {
                        "name": "theme",
                        "in": "path",
                        "description": "ID teme",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "theme": {
                                            "type": "object"
                                        },
                                        "posts": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Tema nije pronađena"
                    }
                }
            }
        },
        "/api/users/{user}/toggle-publish": {
            "patch": {
                "tags": [
                    "Users"
                ],
                "summary": "Uključi/isključi pravo publikovanja",
                "description": "Menja can_publish status korisnika (samo admin/moderator)",
                "operationId": "e8ae5bba544f73d86c078b7b263f6d40",
                "parameters": [
                    {
                        "name": "user",
                        "in": "path",
                        "description": "ID korisnika",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "User can_publish toggled successfully"
                                        },
                                        "user": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Nije autentifikovan"
                    },
                    "403": {
                        "description": "Nema dozvolu",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Only admins and moderators can change publishing rights"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/themes/{theme}/weather": {
            "get": {
                "tags": [
                    "Weather"
                ],
                "summary": "Vremenska prognoza za temu",
                "description": "Vraća trenutne vremenske podatke za lokaciju teme (keširano 10 minuta)",
                "operationId": "d69e81b9908318673d932c94cca216da",
                "parameters": [
                    {
                        "name": "theme",
                        "in": "path",
                        "description": "ID teme",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "location": {
                                            "type": "string",
                                            "example": "Kopaonik"
                                        },
                                        "weather": {
                                            "properties": {
                                                "temperature": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 15.5
                                                },
                                                "feels_like": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 14.2
                                                },
                                                "humidity": {
                                                    "type": "integer",
                                                    "example": 65
                                                },
                                                "wind": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 3.6
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "clear sky"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "cached": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Tema nema lokaciju",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Theme has no location data"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "502": {
                        "description": "Weather servis nije dostupan"
                    }
                }
            }
        }
    },
    "tags": [
        {
            "name": "Admin",
            "description": "Admin"
        },
        {
            "name": "Auth",
            "description": "Auth"
        },
        {
            "name": "Categories",
            "description": "Categories"
        },
        {
            "name": "Likes",
            "description": "Likes"
        },
        {
            "name": "Posts",
            "description": "Posts"
        },
        {
            "name": "Themes",
            "description": "Themes"
        },
        {
            "name": "Users",
            "description": "Users"
        },
        {
            "name": "Weather",
            "description": "Weather"
        }
    ]
}